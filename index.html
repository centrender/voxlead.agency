<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VoxLead – AI Receptionist</title>

  <!-- Minimal base styles; safe to keep or replace -->
  <style>
    :root{--bg:#0b1320;--card:#0f1b2e;--text:#e6eefc;--muted:#9db0d1;--ok:#22c55e;--err:#ef4444;--brand:#1d4ed8;--brand2:#2563eb}
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:var(--text);text-decoration:none}
    .wrap{max-width:1000px;margin:0 auto;padding:24px}
    .hero{padding:36px 0}
    h1{font-size:32px;margin:0 0 10px} h2{font-size:24px;margin:28px 0 12px}
    .card{background:linear-gradient(180deg,#0f1b2e,#0a1423);border:1px solid #152746;border-radius:16px;padding:20px;box-shadow:0 10px 40px rgba(0,0,0,.35)}
    .row{display:grid;grid-template-columns:1fr;gap:14px}
    input,textarea{width:100%;background:#0a1423;border:1px solid #20354f;color:var(--text);border-radius:10px;padding:14px 12px}
    textarea{min-height:140px;resize:vertical}
    .btn{display:inline-block;background:linear-gradient(180deg,var(--brand),var(--brand2));border:none;color:#fff;border-radius:16px;padding:16px 22px;font-weight:600;cursor:pointer}
    .btn[disabled]{opacity:.6;cursor:not-allowed}
    .muted{color:var(--muted);font-size:14px}
    .note{margin-top:10px;font-weight:600}
    .grid2{display:grid;grid-template-columns:1fr;gap:16px}
    @media (min-width:840px){.grid2{grid-template-columns:1fr 1fr}}
    .box{background:linear-gradient(180deg,#0f1b2e,#0a1423);border:1px solid #1b2b45;border-radius:18px;padding:22px}
    ul{margin:0 0 0 18px}
  </style>
</head>
<body>
  <div class="wrap">
    <section class="hero">
      <h1>Never miss another call</h1>
      <p class="muted">AI receptionist answers, qualifies, and books. You focus on growth.</p>
    </section>

    <section class="grid2">
      <!-- Offer -->
      <div class="box">
        <h2>$199 / month • Managed service</h2>
        <ul>
          <li>Capture and return every missed call</li>
          <li>Book to your calendar automatically</li>
          <li>Texts and follow-ups handled</li>
          <li>No staff coordination needed</li>
        </ul>
        <div style="margin-top:16px">
          <a class="btn" href="https://buy.stripe.com/28E14m4W2bpBe9Y6A6g3604" target="_blank" rel="noopener">Start $499 setup</a>
          <p class="muted" style="margin-top:8px">Setup once. Then $199/month after your trial.</p>
        </div>
      </div>

      <!-- Lead form -->
      <div class="card">
        <h2>Free setup call</h2>
        <p class="muted">Tell us hours, services, parking, and booking rules. We’ll provision a demo line and show bookings within 24 hours.</p>

        <form id="leadForm" class="row" onsubmit="submitLead(event)" autocomplete="on">
          <!-- honeypot -->
          <input type="text" name="company_website" id="hp" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;height:0;width:0;padding:0;border:0" aria-hidden="true" />

          <input id="name" name="name" placeholder="Your name" required />
          <input id="email" name="email" type="email" inputmode="email" placeholder="Work email" required />
          <input id="phone" name="phone" inputmode="tel" placeholder="Phone number" required />
          <input id="business" name="business" placeholder="Business / Clinic" />
          <textarea id="details" name="details" placeholder="Hours, services, booking rules, parking, special notes…"></textarea>

          <button id="submitBtn" type="submit" class="btn">Submit</button>
          <div id="submitNote" class="note muted"></div>
        </form>
      </div>
    </section>

    <footer class="wrap" style="padding:32px 0 16px">
      <p class="muted">© 2025 VoxLead Agency • hello@voxlead.agency</p>
    </footer>
  </div>

  <script>
    // —— CONFIG ——
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbw7R3Xij3FCIeB75LWNvv6sVXxGYgSu9b70hyVgfTjwaz4k3YJdXJNYLGDFkoTkS4b64A/exec';
    // ——————————

    async function submitLead(e){
      e.preventDefault();

      const hp = document.getElementById('hp');
      if (hp.value) return; // bot trap

      const btn  = document.getElementById('submitBtn');
      const note = document.getElementById('submitNote');
      const form = document.getElementById('leadForm');

      btn.disabled = true;
      note.style.color = 'var(--muted)';
      note.textContent = 'Submitting…';

      const payload = {
        name:     document.getElementById('name').value.trim(),
        email:    document.getElementById('email').value.trim(),
        phone:    document.getElementById('phone').value.trim(),
        business: document.getElementById('business').value.trim(),
        details:  document.getElementById('details').value.trim(),
        source:   'website'
      };

      try {
        const res  = await fetch(WEB_APP_URL, {
          method: 'POST',
          mode: 'cors',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        // Some Apps Script deployments return empty body; parse defensively.
        const text = await res.text();
        let data = {}; try { data = text ? JSON.parse(text) : {}; } catch {}

        if (res.ok && (data.ok !== false)) {
          note.style.color = 'var(--ok)';
          note.textContent = 'Thanks — we’ll reply within 1 business day.';
          form.reset();
        } else {
          throw new Error(data.error || `HTTP ${res.status}`);
        }
      } catch (err) {
        console.error(err);
        note.style.color = 'var(--err)';
        note.textContent = 'Submission failed. Email hello@voxlead.agency and we’ll assist.';
      } finally {
        btn.disabled = false;
      }
    }
  </script>
</body>
</html>
